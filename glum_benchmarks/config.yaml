# Benchmark Configuration
# Edit this file to configure which benchmarks to run and how to run them

# Steps to run
run_benchmarks: true # Run the benchmarks (can be slow)
analyze_results: true # Analyze and print results (writes CSV)
generate_plots: true # Generate comparison plots (reads CSV and writes PNGs)
update_docs: false # Copy figures to docs/_static and update benchmarks.rst and README.md

# Figures to include in docs/README (null = use defaults)
# Default for docs: all figures
# Default for readme: first non-normalized figure only
# Available: null, or list of figure filenames in the format "<dataset>-<distribution>.png"
# Example: intermediate-insurance-gaussian.png
docs_figures: null
readme_figures: null

# Output settings
run_name: "docs" # Subfolder name within results/ ("docs" CSV is git-tracked)
clear_output: True # Clear entire run_name directory before running

# Benchmark settings
iterations: 2 # Run each benchmark N times, report minimum (>=2 for skglm)
num_threads: 16 # Number of threads for parallel execution
num_rows: null # Limit rows per dataset (null = full dataset)
k_over_n_ratio: 0.5 # K/N ratio for simulated-glm only (>1: K>N, <1: K<N)
timeout: 100 # Timeout in seconds per benchmark run (reports as "not converged" if exceeded)

# Standardization approach per library:
#   "pre"      = pre-standardize continuous features in data loader
#   "internal" = library handles standardization internally
#   "none"     = no standardization
# TODO: we might want to ommit this as a config option and just do the scaling in the data loader as a default
standardize:
  glum: pre
  sklearn: pre
  h2o: pre
  celer: pre
  skglm: pre
  glmnet: pre

# Storage format per library [auto, dense, cat, csr, csc]
storage:
  glum: auto
  sklearn: csr
  h2o: csr
  celer: csc
  skglm: csc
  glmnet: csc

# PARAMETER GRID
# Each entry specifies a parameter set. Within each entry, the Cartesian
# product is computed. Across entries, results are unioned (not crossed).
#
# Available values:
#   libraries: ["glum", "sklearn", "h2o", "skglm", "celer", "zeros", "glmnet"]
#   datasets: ["intermediate-housing", "intermediate-insurance", "narrow-insurance", "wide-insurance","simulated-glm", "categorical-simulated"]
#   regularizations: ["lasso", "l2", "net"]
#   alphas: [0.001, 0.01, 0.1]
#   distributions: ["gaussian", "gamma", "binomial", "poisson", "tweedie-p=1.5"]
#
# Use null for any field (or omit) to use its default value. Default refers to using all available values.
#
# Example: Run all regularizations for gaussian, but only lasso for gamma:
#   param_grid:
#     - distributions: [gaussian]
#       regularizations: [lasso, l2, net]
#     - distributions: [gamma]
#       regularizations: [lasso]

param_grid:
     - distributions: [gaussian]
       datasets: ["intermediate-housing"]
       regularizations: [lasso, l2]
       libraries: [glum, celer]
     - distributions: [gamma]
       datasets: ["intermediate-insurance"]
       regularizations: [lasso]
       libraries: [glum, h2o]
